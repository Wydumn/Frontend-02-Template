## é¢å‘å¯¹è±¡ï¼Ÿï¼Ÿ

é¢å‘å¯¹è±¡ï¼Œä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿä½œä¸ºä¸€ä¸ªæ¦‚å¿µï¼Œé¦–å…ˆåº”è¯¥æœ‰ä¸€ä¸ªå®šä¹‰ï¼Œé¢å‘å¯¹è±¡ï¼Œé‚£ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿ

â€‹	é¢å‘å¯¹è±¡æ€æƒ³çš„åˆ›å§‹è€…Alan Kay[å—åˆ†å­ç”Ÿç‰©å­¦çš„å¯å‘]( http://xahlee.info/comp/Alan_Kay_on_object_oriented_programing.html )ï¼Œæå‡ºäº†é¢å‘å¯¹è±¡è¿™ä¸€æ€æƒ³ã€‚å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œæ‰€è¯´çš„å¯¹è±¡æ›´åƒæ˜¯ç ”ç©¶å¯¹è±¡ã€‚ä¸€ä¸ªå®éªŒä¸­ï¼Œæ¯ä¸€ä¸ªå°ç™½é¼ éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³ä½¿æ˜¯åŒä¸€å¯¹ç…§ç»„ï¼Œç‹¬ç«‹çš„ç ”ç©¶ä¸ªä½“å°±æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ã€‚å†æ¥çœ‹Alan Kay å‘æ˜smalltalkè¯­è¨€ä¹‹å‰å¯è’™é¢å‘å¯¹è±¡çš„[simula](https://zh.wikipedia.org/wiki/Simula)è¯­è¨€ï¼š æ®è¯´ï¼Œä»–ä»¬æ˜¯ä¸ºäº†æ¨¡æ‹Ÿèˆ¹åªè€Œè®¾è®¡çš„è¿™ç§è¯­è¨€ï¼Œå¹¶ä¸”å¯¹ä¸åŒèˆ¹åªé—´å±æ€§çš„ç›¸äº’å½±å“æ„Ÿå…´è¶£ã€‚ä»–ä»¬å°†ä¸åŒçš„èˆ¹åªå½’çº³ä¸ºä¸åŒçš„ç±»ï¼Œè€Œæ¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŸºäºå®ƒçš„ç±»ï¼Œå¯ä»¥å®šä¹‰å®ƒè‡ªå·±çš„å±æ€§å’Œè¡Œä¸ºã€‚

æ‰€ä»¥åœ¨é¢å‘å¯¹è±¡**æ€æƒ³**ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªæ›´æ™®é€‚çš„æ¦‚å¿µã€‚ 

> åœ¨ã€Šé¢å‘å¯¹è±¡åˆ†æä¸è®¾è®¡ã€‹è¿™æœ¬ä¹¦ä¸­ï¼ŒGrady Booch æ›¿æˆ‘ä»¬åšäº†æ€»ç»“ï¼Œä»–è®¤ä¸ºï¼Œä»äººç±»çš„è®¤çŸ¥è§’åº¦æ¥è¯´ï¼Œå¯¹è±¡åº”è¯¥æ˜¯ä¸‹åˆ—äº‹ç‰©ä¹‹ä¸€ï¼š
>
> 1. ä¸€ä¸ªå¯ä»¥è§¦æ‘¸æˆ–è€…å¯ä»¥çœ‹è§çš„ä¸œè¥¿ï¼›
> 2. äººçš„æ™ºåŠ›å¯ä»¥ç†è§£çš„ä¸œè¥¿ï¼›
> 3. å¯ä»¥æŒ‡å¯¼æ€è€ƒæˆ–è¡ŒåŠ¨ï¼ˆè¿›è¡Œæƒ³è±¡æˆ–æ–½åŠ åŠ¨ä½œï¼‰çš„ä¸œè¥¿ã€‚ 

é‚£åœ¨é¢å‘å¯¹è±¡**ç¼–ç¨‹**ä¸­ï¼Œå¯¹è±¡æŒ‡çš„åˆæ˜¯ä»€ä¹ˆï¼Ÿä¸åŒçš„ç¼–ç¨‹è¯­è¨€æœ‰è‡ªå·±çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æè¿°å¯¹è±¡çš„æ€è·¯åˆæ˜¯ä¸åŒçš„ã€‚

1. ç±» class

   > C++å’ŒJavaç­‰ä½¿ç”¨â€œç±»â€æ¦‚å¿µã€‚
   >
   > è¿™é‡Œæ›´åƒæ˜¯å½’ç±»ã€‚è¿™æˆ‘çœŸä¸æ‡‚ï¼Œçœ‹[è¿™é‡Œ]( http://www.eeng.dcu.ie/~ee553/ee402notes/html/ch05s06.html )ã€‚

2. åŸå‹ prototype

   > JavaScriptä½¿ç”¨çš„æ–¹å¼
   >
   > è¿™é‡Œæ˜¯åˆ†ç±»(ï¼Ÿï¼Ÿ)ã€‚æœ‰ç‚¹åƒç±»æ¯”çš„æ¦‚å¿µã€‚å¯¹è±¡åªæè¿°è‡ªå·±ä¸åŸå‹çš„åŒºåˆ«ï¼š	ğŸŸèƒ½æ¸¸æ³³ï¼Œç”²é±¼å°±æ˜¯æœ‰å£³ï¼Œé‚£ä½œä¸ºé±¼ï¼Œå®ƒä¹Ÿä¸€å®šèƒ½æœ‰ç”¨ã€‚

æè¿°å¯¹è±¡ï¼Œæ€ä¹ˆæè¿°å¯¹è±¡ï¼Ÿæè¿°å¯¹è±¡çš„ä»€ä¹ˆï¼Ÿå¯¹è±¡çš„**ç‰¹å¾**ï¼š

	1. å¯¹è±¡çš„å”¯ä¸€æ ‡è¯†æ€§
 	2. çŠ¶æ€ï¼šåŒä¸€å¯¹è±¡å¯èƒ½å¤„äºä¸åŒçŠ¶æ€ä¹‹ä¸‹ï¼ˆçŠ¶æ€æœºï¼Ÿï¼Ÿï¼‰
 	3. è¡Œä¸ºï¼šå¯¹è±¡çš„çŠ¶æ€å¯èƒ½å› ä¸ºè¡Œä¸ºè€Œå˜åŒ–



## JavaScriptå¦‚ä½•æè¿°å¯¹è±¡

1. å”¯ä¸€æ ‡è¯†æ€§

   > ä¸€ç»„å®éªŒæœ‰å¤šåªå°ç™½é¼ ï¼Œä¸€åªå°ç™½é¼ å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°ç™½é¼ çš„å”¯ä¸€æ ‡è¯†æ€§å°±æ˜¯ç”¨ç¼–å·æ¥è¡¨è¾¾
   >
   > é‚£å¯¹è±¡çš„å”¯ä¸€æ ‡è¯†æ€§åœ¨è®¡ç®—æœºè¯­è¨€ä¸­ï¼Œé€šè¿‡å†…å­˜åœ°å€çš„å”¯ä¸€æ€§æ¥è¡¨ç¤º

   ```js
   let x = { value: 0 }
   let y = { value: 0 }
   x ==y // false
   ```

2. çŠ¶æ€å’Œè¡Œä¸º

   > ä¹‹æ‰€ä»¥è¿™ä¸¤ä¸ªç‰¹å¾æ”¾åœ¨ä¸€èµ·ï¼Œæ˜¯å› ä¸ºåœ¨JavaScriptä¸­ï¼ŒåŸºäº"first class" funcitonï¼ŒçŠ¶æ€å’Œè¡Œä¸ºç»Ÿä¸€æŠ½è±¡ä¸º"å±æ€§"ã€‚
   >
   > JAVAä¸­åˆ†åˆ«ä¸º "å±æ€§" å’Œ "æ–¹æ³•"ï¼›C++ä¸­ç§°ä¸ºâ€œæˆå‘˜å˜é‡â€œ å’Œ â€æˆå‘˜å‡½æ•°â€œã€‚

   ```js
   var x = {
       a: 0,
       b() {
           console.log(this.a)
       }
   }
   ```

3. åŠ¨æ€æ€§

   åœ¨javascriptä¸­ï¼Œå¯¹è±¡å› ä¸ºè¯­è¨€ç‰¹æ€§è€Œå­˜åœ¨é«˜åº¦çš„åŠ¨æ€æ€§ï¼šèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶ä¸ºå¯¹è±¡æ·»åŠ å’Œæ”¹å˜çŠ¶æ€ã€è¡Œä¸ºã€‚

   > è¿è¡Œæ—¶ï¼š
   >
   >  The time period to convert the source code to machine code is known as compile time. Tasks such as syntax analysis, semantic analysis, and code generation occur at compile time. Time period to run the executable file generated at compile time is referred as runtime. 
   >
   > é‚£å°±æ˜¯æ±‚å€¼ä¹‹åçš„è®¡ç®—è¿‡ç¨‹ï¼Ÿï¼Ÿ

   ```js
   let x = { a: 1 }
   x.b = 2
   console.log(x.a, x.b) // 1 2
   ```

## ä¸¤ç±»å±æ€§

JavaScriptç”¨ä¸€ç»„ç‰¹å¾æ¥æè¿°å¯¹è±¡ï¼š

1. æ•°æ®å±æ€§

   1. valueï¼šå±æ€§çš„å€¼
   2. writableï¼šå±æ€§èƒ½å¦è¢«èµ‹å€¼
   3. enumerableï¼šfor ... in èƒ½å¦æšä¸¾è¯¥å±æ€§
   4. configurableï¼šè¯¥å±æ€§èƒ½å¦è¢«åˆ é™¤æˆ–è€…æ”¹å˜

   æ•°æ®å±æ€§ä¸€èˆ¬åªå…³å¿ƒå®ƒçš„"å€¼"ç‰¹å¾

2. è®¿é—®å™¨å±æ€§

   1. getterï¼šå‡½æ•°æˆ–undefinedï¼Œå–å±æ€§å€¼æ—¶è°ƒç”¨
   2. setterï¼šå‡½æ•°æˆ–undefinedï¼Œè®¾ç½®å±æ€§å€¼æ—¶è°ƒç”¨
   3. enumerableï¼šfor ... in èƒ½å¦æšä¸¾è¯¥å±æ€§
   4. configurableï¼šè¯¥å±æ€§èƒ½å¦è¢«åˆ é™¤æˆ–è€…æ”¹å˜

3. ä¾‹å­

   ```js
   let x = { v: 0 }
   x.k = "key"
   
   Object.getOwnPropertyDescriptor(x, "v")
   {value: 0, writable: true, enumerable: true, configurable: true}
   Object.getOwnPropertyDescriptor(x, "k")
   {value: "key", writable: true, enumerable: true, configurable: true}
   ```

   æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡å¾—åˆ°çš„æ˜¯æ•°æ®å±æ€§ï¼Œ

   è¦æƒ³å®šä¹‰è®¿é—®å™¨å±æ€§ï¼Œå³æ”¹å˜å±æ€§çš„ç‰¹å¾ï¼š

   ```js
   Object.defineProperty(obj, prop, descriptor)
   
   Object.defineProperty(x, "c", 
      {value: "haha", writable: false, enumerable: false, configurable: true})
   
   Object.getOwnPropertyDescriptor(x, "c")
   // {value: "haha", writable: false, enumerable: false, configurable: true}
   
   x // {v: 0, k: "key", c: "haha"}
   
   x.c = "heihei"
   x // {v: 0, k: "key", c: "haha"}
   
   for (const item in x) {
       console.log(item)
   }
   // v k
   
   delete x.c
   ```

   **getå’Œset**

   ```js
   let y = { 
       set b(state) { this.state = 2 },
       get a() { return 0} 
   }
   
   y.stae = 3
   
   stae: 3
   get a: Æ’ a()
   set b: Æ’ b(state)
   __proto__: Object
   
   console.log(a) 	// 0
   ```

   ç»“è®ºï¼ï¼š

   > JavaScript**å¯¹è±¡çš„è¿è¡Œæ—¶**æ˜¯ä¸€ä¸ªâ€œå±æ€§çš„é›†åˆâ€ï¼Œå±æ€§ä»¥å­—ç¬¦ä¸²æˆ–è€…Symbolä¸ºkeyï¼Œä»¥æ•°æ®å±æ€§ç‰¹å¾å€¼æˆ–è€…è®¿é—®å™¨å±æ€§ç‰¹å¾å€¼ä¸ºvalue

4. > å¯¹è±¡æ˜¯ä¸€ä¸ªå±æ€§çš„ç´¢å¼•ç»“æ„ï¼ˆå¯ä»¥ä»¥è¾ƒå¿«çš„é€Ÿåº¦ç”¨keyæ¥æŸ¥æ‰¾valueçš„å­—å…¸ï¼‰

   ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ"c"æ˜¯keyï¼Œ`{value: "haha", writable: false, enumerable: false, configurable: true}`æ˜¯value



